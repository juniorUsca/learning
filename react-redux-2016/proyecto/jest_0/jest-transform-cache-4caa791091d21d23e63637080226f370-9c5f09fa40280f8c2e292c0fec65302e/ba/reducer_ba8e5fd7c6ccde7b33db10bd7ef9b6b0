566079e173f908b179e582726eccf4df
/* istanbul ignore next */'use strict';Object.defineProperty(exports, "__esModule", { value: true });var cov_l6h6snb9i = function () {var path = '/data/source/reducer.js',hash = 'dee500ba507d8b6c555be91d9024e456c65fd675',global = new Function('return this')(),gcv = '__coverage__',coverageData = { path: '/data/source/reducer.js', statementMap: { '0': { start: { line: 8, column: 21 }, end: { line: 15, column: 2 } }, '1': { start: { line: 26, column: 2 }, end: { line: 31, column: 3 } }, '2': { start: { line: 28, column: 6 }, end: { line: 28, column: 22 } }, '3': { start: { line: 30, column: 6 }, end: { line: 30, column: 18 } }, '4': { start: { line: 35, column: 2 }, end: { line: 47, column: 3 } }, '5': { start: { line: 38, column: 6 }, end: { line: 42, column: 9 } }, '6': { start: { line: 40, column: 27 }, end: { line: 40, column: 56 } }, '7': { start: { line: 44, column: 6 }, end: { line: 44, column: 62 } }, '8': { start: { line: 46, column: 6 }, end: { line: 46, column: 18 } }, '9': { start: { line: 51, column: 21 }, end: { line: 54, column: 2 } }, '10': { start: { line: 58, column: 2 }, end: { line: 66, column: 3 } }, '11': { start: { line: 60, column: 6 }, end: { line: 63, column: 7 } }, '12': { start: { line: 61, column: 31 }, end: { line: 61, column: 69 } }, '13': { start: { line: 65, column: 6 }, end: { line: 65, column: 18 } }, '14': { start: { line: 70, column: 2 }, end: { line: 78, column: 3 } }, '15': { start: { line: 75, column: 6 }, end: { line: 75, column: 62 } }, '16': { start: { line: 77, column: 6 }, end: { line: 77, column: 18 } }, '17': { start: { line: 81, column: 16 }, end: { line: 85, column: 2 } } }, fnMap: { '0': { name: 'postsPageReducer', decl: { start: { line: 25, column: 9 }, end: { line: 25, column: 25 } }, loc: { start: { line: 25, column: 86 }, end: { line: 32, column: 1 } }, line: 25 }, '1': { name: 'postsEntitiesReducer', decl: { start: { line: 34, column: 9 }, end: { line: 34, column: 29 } }, loc: { start: { line: 34, column: 94 }, end: { line: 48, column: 1 } }, line: 34 }, '2': { name: '(anonymous_2)', decl: { start: { line: 40, column: 10 }, end: { line: 40, column: 11 } }, loc: { start: { line: 40, column: 27 }, end: { line: 40, column: 56 } }, line: 40 }, '3': { name: 'commentsReducer', decl: { start: { line: 57, column: 9 }, end: { line: 57, column: 24 } }, loc: { start: { line: 57, column: 76 }, end: { line: 67, column: 1 } }, line: 57 }, '4': { name: '(anonymous_4)', decl: { start: { line: 61, column: 8 }, end: { line: 61, column: 9 } }, loc: { start: { line: 61, column: 31 }, end: { line: 61, column: 69 } }, line: 61 }, '5': { name: 'usersReducer', decl: { start: { line: 69, column: 9 }, end: { line: 69, column: 21 } }, loc: { start: { line: 69, column: 70 }, end: { line: 79, column: 1 } }, line: 69 } }, branchMap: { '0': { loc: { start: { line: 25, column: 26 }, end: { line: 25, column: 71 } }, type: 'default-arg', locations: [{ start: { line: 25, column: 34 }, end: { line: 25, column: 71 } }], line: 25 }, '1': { loc: { start: { line: 25, column: 73 }, end: { line: 25, column: 84 } }, type: 'default-arg', locations: [{ start: { line: 25, column: 82 }, end: { line: 25, column: 84 } }], line: 25 }, '2': { loc: { start: { line: 26, column: 2 }, end: { line: 31, column: 3 } }, type: 'switch', locations: [{ start: { line: 27, column: 4 }, end: { line: 28, column: 22 } }, { start: { line: 29, column: 4 }, end: { line: 30, column: 18 } }], line: 26 }, '3': { loc: { start: { line: 34, column: 30 }, end: { line: 34, column: 79 } }, type: 'default-arg', locations: [{ start: { line: 34, column: 38 }, end: { line: 34, column: 79 } }], line: 34 }, '4': { loc: { start: { line: 34, column: 81 }, end: { line: 34, column: 92 } }, type: 'default-arg', locations: [{ start: { line: 34, column: 90 }, end: { line: 34, column: 92 } }], line: 34 }, '5': { loc: { start: { line: 35, column: 2 }, end: { line: 47, column: 3 } }, type: 'switch', locations: [{ start: { line: 36, column: 4 }, end: { line: 42, column: 9 } }, { start: { line: 43, column: 4 }, end: { line: 44, column: 62 } }, { start: { line: 45, column: 4 }, end: { line: 46, column: 18 } }], line: 35 }, '6': { loc: { start: { line: 57, column: 25 }, end: { line: 57, column: 61 } }, type: 'default-arg', locations: [{ start: { line: 57, column: 33 }, end: { line: 57, column: 61 } }], line: 57 }, '7': { loc: { start: { line: 57, column: 63 }, end: { line: 57, column: 74 } }, type: 'default-arg', locations: [{ start: { line: 57, column: 72 }, end: { line: 57, column: 74 } }], line: 57 }, '8': { loc: { start: { line: 58, column: 2 }, end: { line: 66, column: 3 } }, type: 'switch', locations: [{ start: { line: 59, column: 4 }, end: { line: 63, column: 7 } }, { start: { line: 64, column: 4 }, end: { line: 65, column: 18 } }], line: 58 }, '9': { loc: { start: { line: 69, column: 22 }, end: { line: 69, column: 55 } }, type: 'default-arg', locations: [{ start: { line: 69, column: 30 }, end: { line: 69, column: 55 } }], line: 69 }, '10': { loc: { start: { line: 69, column: 57 }, end: { line: 69, column: 68 } }, type: 'default-arg', locations: [{ start: { line: 69, column: 66 }, end: { line: 69, column: 68 } }], line: 69 }, '11': { loc: { start: { line: 70, column: 2 }, end: { line: 78, column: 3 } }, type: 'switch', locations: [{ start: { line: 71, column: 4 }, end: { line: 75, column: 62 } }, { start: { line: 76, column: 4 }, end: { line: 77, column: 18 } }], line: 70 } }, s: { '0': 0, '1': 0, '2': 0, '3': 0, '4': 0, '5': 0, '6': 0, '7': 0, '8': 0, '9': 0, '10': 0, '11': 0, '12': 0, '13': 0, '14': 0, '15': 0, '16': 0, '17': 0 }, f: { '0': 0, '1': 0, '2': 0, '3': 0, '4': 0, '5': 0 }, b: { '0': [0], '1': [0], '2': [0, 0], '3': [0], '4': [0], '5': [0, 0, 0], '6': [0], '7': [0], '8': [0, 0], '9': [0], '10': [0], '11': [0, 0] }, _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c' },coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {return coverage[path];}coverageData.hash = hash;return coverage[path] = coverageData;}();var /* istanbul ignore next */_reduxImmutable = require('redux-immutable');
var /* istanbul ignore next */_immutable = require('immutable');




// que todo el store sea immutable
const initialState = /* istanbul ignore next */(cov_l6h6snb9i.s[0]++, /* istanbul ignore next */(0, _immutable.fromJS)({
  posts: {
    page: 1,
    entities: {} },

  comments: {},
  users: {} }));


/* const action = {
                   type: 'SET_POSTS',
                   payload: {}, // data
                   // meta: {}, // informacion extra
                   // error: true, // si esta accion tiene error
                 } */

// tiene solo informacion de la pagina actual
function postsPageReducer(state = /* istanbul ignore next */(cov_l6h6snb9i.b[0][0]++, initialState.get('posts').get('page')), action = /* istanbul ignore next */(cov_l6h6snb9i.b[1][0]++, {})) {/* istanbul ignore next */cov_l6h6snb9i.f[0]++;cov_l6h6snb9i.s[1]++;
  switch (action.type) {
    case 'SET_POSTS': /* istanbul ignore next */cov_l6h6snb9i.b[2][0]++;cov_l6h6snb9i.s[2]++;
      return state + 1;
    default: /* istanbul ignore next */cov_l6h6snb9i.b[2][1]++;cov_l6h6snb9i.s[3]++;
      return state;}

}

function postsEntitiesReducer(state = /* istanbul ignore next */(cov_l6h6snb9i.b[3][0]++, initialState.get('posts').get('entities')), action = /* istanbul ignore next */(cov_l6h6snb9i.b[4][0]++, {})) {/* istanbul ignore next */cov_l6h6snb9i.f[1]++;cov_l6h6snb9i.s[4]++;
  switch (action.type) {
    case 'SET_POSTS': /* istanbul ignore next */cov_l6h6snb9i.b[5][0]++;cov_l6h6snb9i.s[5]++;
      // return state.concat(action.payload)
      return action.payload.
      reduce(
      (posts, post) => {/* istanbul ignore next */cov_l6h6snb9i.f[2]++;cov_l6h6snb9i.s[6]++;return posts.set(post.id, /* istanbul ignore next */(0, _immutable.Map)(post));}, // posts es el acumulador
      state // acumulador
      );
    case 'SET_POST': /* istanbul ignore next */cov_l6h6snb9i.b[5][1]++;cov_l6h6snb9i.s[7]++;
      return state.set(action.payload.id, /* istanbul ignore next */(0, _immutable.Map)(action.payload));
    default: /* istanbul ignore next */cov_l6h6snb9i.b[5][2]++;cov_l6h6snb9i.s[8]++;
      return state;}

}

// se encarga de combinar los reducers individules
const postsReducer = /* istanbul ignore next */(cov_l6h6snb9i.s[9]++, /* istanbul ignore next */(0, _reduxImmutable.combineReducers)({
  page: postsPageReducer,
  entities: postsEntitiesReducer }));



function commentsReducer(state = /* istanbul ignore next */(cov_l6h6snb9i.b[6][0]++, initialState.get('comments')), action = /* istanbul ignore next */(cov_l6h6snb9i.b[7][0]++, {})) {/* istanbul ignore next */cov_l6h6snb9i.f[3]++;cov_l6h6snb9i.s[10]++;
  switch (action.type) {
    case 'SET_COMMENTS': /* istanbul ignore next */cov_l6h6snb9i.b[8][0]++;cov_l6h6snb9i.s[11]++;
      return action.payload.reduce(
      (comments, comment) => {/* istanbul ignore next */cov_l6h6snb9i.f[4]++;cov_l6h6snb9i.s[12]++;return comments.set(comment.id, /* istanbul ignore next */(0, _immutable.Map)(comment));},
      state // acumulador
      );
    default: /* istanbul ignore next */cov_l6h6snb9i.b[8][1]++;cov_l6h6snb9i.s[13]++;
      return state;}

}

function usersReducer(state = /* istanbul ignore next */(cov_l6h6snb9i.b[9][0]++, initialState.get('users')), action = /* istanbul ignore next */(cov_l6h6snb9i.b[10][0]++, {})) {/* istanbul ignore next */cov_l6h6snb9i.f[5]++;cov_l6h6snb9i.s[14]++;
  switch (action.type) {
    case 'SET_USER': /* istanbul ignore next */cov_l6h6snb9i.b[11][0]++;cov_l6h6snb9i.s[15]++;
      // return Object.assign({}, state, {
      //   [action.payload.id]: action.payload,
      // })
      return state.set(action.payload.id, /* istanbul ignore next */(0, _immutable.Map)(action.payload));
    default: /* istanbul ignore next */cov_l6h6snb9i.b[11][1]++;cov_l6h6snb9i.s[16]++;
      return state;}

}

const reducer = /* istanbul ignore next */(cov_l6h6snb9i.s[17]++, /* istanbul ignore next */(0, _reduxImmutable.combineReducers)({
  posts: postsReducer,
  comments: commentsReducer,
  users: usersReducer }));


// function reducer(state = initialState, action = {}) {
//   switch (action.type) {
//     case 'SET_POSTS':
//       return Object.assign({}, state, {
//         posts: Object.assign({}, state.posts, {
//           entities: state.posts.entities.concat(action.payload),
//           page: state.posts.page + 1,
//         }),
//       });
//     default:
//       return state;
//   }
// }
/* istanbul ignore next */exports.default =
reducer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZHVjZXIuanMiXSwibmFtZXMiOlsiaW5pdGlhbFN0YXRlIiwicG9zdHMiLCJwYWdlIiwiZW50aXRpZXMiLCJjb21tZW50cyIsInVzZXJzIiwicG9zdHNQYWdlUmVkdWNlciIsInN0YXRlIiwiZ2V0IiwiYWN0aW9uIiwidHlwZSIsInBvc3RzRW50aXRpZXNSZWR1Y2VyIiwicGF5bG9hZCIsInJlZHVjZSIsInBvc3QiLCJzZXQiLCJpZCIsInBvc3RzUmVkdWNlciIsImNvbW1lbnRzUmVkdWNlciIsImNvbW1lbnQiLCJ1c2Vyc1JlZHVjZXIiLCJyZWR1Y2VyIl0sIm1hcHBpbmdzIjoiKzVMQUFBO0FBQ0E7Ozs7O0FBS0E7QUFDQSxNQUFNQSxnRUFBZSxpREFBTztBQUMxQkMsU0FBTztBQUNMQyxVQUFNLENBREQ7QUFFTEMsY0FBVSxFQUZMLEVBRG1COztBQUsxQkMsWUFBVSxFQUxnQjtBQU0xQkMsU0FBTyxFQU5tQixFQUFQLENBQWYsQ0FBTjs7O0FBU0E7Ozs7Ozs7QUFPQTtBQUNBLFNBQVNDLGdCQUFULENBQTBCQyw0REFBUVAsYUFBYVEsR0FBYixDQUFpQixPQUFqQixFQUEwQkEsR0FBMUIsQ0FBOEIsTUFBOUIsQ0FBUixDQUExQixFQUF5RUMsNkRBQVMsRUFBVCxDQUF6RSxFQUFzRjtBQUNwRixVQUFRQSxPQUFPQyxJQUFmO0FBQ0UsU0FBSyxXQUFMO0FBQ0UsYUFBT0gsUUFBUSxDQUFmO0FBQ0Y7QUFDRSxhQUFPQSxLQUFQLENBSko7O0FBTUQ7O0FBRUQsU0FBU0ksb0JBQVQsQ0FBOEJKLDREQUFRUCxhQUFhUSxHQUFiLENBQWlCLE9BQWpCLEVBQTBCQSxHQUExQixDQUE4QixVQUE5QixDQUFSLENBQTlCLEVBQWlGQyw2REFBUyxFQUFULENBQWpGLEVBQThGO0FBQzVGLFVBQVFBLE9BQU9DLElBQWY7QUFDRSxTQUFLLFdBQUw7QUFDRTtBQUNBLGFBQU9ELE9BQU9HLE9BQVA7QUFDSkMsWUFESTtBQUVILE9BQUNaLEtBQUQsRUFBUWEsSUFBUixLQUFpQixrRkFBTUMsR0FBTixDQUFVRCxLQUFLRSxFQUFmLEVBQW1CLDhDQUFJRixJQUFKLENBQW5CLEVBQTZCLENBRjNDLEVBRTZDO0FBQ2hEUCxXQUhHLENBR0k7QUFISixPQUFQO0FBS0YsU0FBSyxVQUFMO0FBQ0UsYUFBT0EsTUFBTVEsR0FBTixDQUFVTixPQUFPRyxPQUFQLENBQWVJLEVBQXpCLEVBQTZCLDhDQUFJUCxPQUFPRyxPQUFYLENBQTdCLENBQVA7QUFDRjtBQUNFLGFBQU9MLEtBQVAsQ0FYSjs7QUFhRDs7QUFFRDtBQUNBLE1BQU1VLGdFQUFlLCtEQUFnQjtBQUNuQ2YsUUFBTUksZ0JBRDZCO0FBRW5DSCxZQUFVUSxvQkFGeUIsRUFBaEIsQ0FBZixDQUFOOzs7O0FBTUEsU0FBU08sZUFBVCxDQUF5QlgsNERBQVFQLGFBQWFRLEdBQWIsQ0FBaUIsVUFBakIsQ0FBUixDQUF6QixFQUErREMsNkRBQVMsRUFBVCxDQUEvRCxFQUE0RTtBQUMxRSxVQUFRQSxPQUFPQyxJQUFmO0FBQ0UsU0FBSyxjQUFMO0FBQ0UsYUFBT0QsT0FBT0csT0FBUCxDQUFlQyxNQUFmO0FBQ0wsT0FBQ1QsUUFBRCxFQUFXZSxPQUFYLEtBQXVCLHNGQUFTSixHQUFULENBQWFJLFFBQVFILEVBQXJCLEVBQXlCLDhDQUFJRyxPQUFKLENBQXpCLEVBQXNDLENBRHhEO0FBRUxaLFdBRkssQ0FFRTtBQUZGLE9BQVA7QUFJRjtBQUNFLGFBQU9BLEtBQVAsQ0FQSjs7QUFTRDs7QUFFRCxTQUFTYSxZQUFULENBQXNCYiw0REFBUVAsYUFBYVEsR0FBYixDQUFpQixPQUFqQixDQUFSLENBQXRCLEVBQXlEQyw4REFBUyxFQUFULENBQXpELEVBQXNFO0FBQ3BFLFVBQVFBLE9BQU9DLElBQWY7QUFDRSxTQUFLLFVBQUw7QUFDRTtBQUNBO0FBQ0E7QUFDQSxhQUFPSCxNQUFNUSxHQUFOLENBQVVOLE9BQU9HLE9BQVAsQ0FBZUksRUFBekIsRUFBNkIsOENBQUlQLE9BQU9HLE9BQVgsQ0FBN0IsQ0FBUDtBQUNGO0FBQ0UsYUFBT0wsS0FBUCxDQVBKOztBQVNEOztBQUVELE1BQU1jLDREQUFVLCtEQUFnQjtBQUM5QnBCLFNBQU9nQixZQUR1QjtBQUU5QmIsWUFBVWMsZUFGb0I7QUFHOUJiLFNBQU9lLFlBSHVCLEVBQWhCLENBQVYsQ0FBTjs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWVDLE8iLCJmaWxlIjoicmVkdWNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4LWltbXV0YWJsZSdcbmltcG9ydCB7XG4gIGZyb21KUyxcbiAgTWFwIGFzIG1hcCxcbn0gZnJvbSAnaW1tdXRhYmxlJ1xuXG4vLyBxdWUgdG9kbyBlbCBzdG9yZSBzZWEgaW1tdXRhYmxlXG5jb25zdCBpbml0aWFsU3RhdGUgPSBmcm9tSlMoe1xuICBwb3N0czoge1xuICAgIHBhZ2U6IDEsXG4gICAgZW50aXRpZXM6IHt9LFxuICB9LFxuICBjb21tZW50czoge30sXG4gIHVzZXJzOiB7fSxcbn0pO1xuXG4vKiBjb25zdCBhY3Rpb24gPSB7XG4gIHR5cGU6ICdTRVRfUE9TVFMnLFxuICBwYXlsb2FkOiB7fSwgLy8gZGF0YVxuICAvLyBtZXRhOiB7fSwgLy8gaW5mb3JtYWNpb24gZXh0cmFcbiAgLy8gZXJyb3I6IHRydWUsIC8vIHNpIGVzdGEgYWNjaW9uIHRpZW5lIGVycm9yXG59ICovXG5cbi8vIHRpZW5lIHNvbG8gaW5mb3JtYWNpb24gZGUgbGEgcGFnaW5hIGFjdHVhbFxuZnVuY3Rpb24gcG9zdHNQYWdlUmVkdWNlcihzdGF0ZSA9IGluaXRpYWxTdGF0ZS5nZXQoJ3Bvc3RzJykuZ2V0KCdwYWdlJyksIGFjdGlvbiA9IHt9KSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdTRVRfUE9TVFMnOlxuICAgICAgcmV0dXJuIHN0YXRlICsgMVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0c0VudGl0aWVzUmVkdWNlcihzdGF0ZSA9IGluaXRpYWxTdGF0ZS5nZXQoJ3Bvc3RzJykuZ2V0KCdlbnRpdGllcycpLCBhY3Rpb24gPSB7fSkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnU0VUX1BPU1RTJzpcbiAgICAgIC8vIHJldHVybiBzdGF0ZS5jb25jYXQoYWN0aW9uLnBheWxvYWQpXG4gICAgICByZXR1cm4gYWN0aW9uLnBheWxvYWRcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAocG9zdHMsIHBvc3QpID0+IHBvc3RzLnNldChwb3N0LmlkLCBtYXAocG9zdCkpLCAvLyBwb3N0cyBlcyBlbCBhY3VtdWxhZG9yXG4gICAgICAgICAgc3RhdGUsIC8vIGFjdW11bGFkb3JcbiAgICAgICAgKVxuICAgIGNhc2UgJ1NFVF9QT1NUJzpcbiAgICAgIHJldHVybiBzdGF0ZS5zZXQoYWN0aW9uLnBheWxvYWQuaWQsIG1hcChhY3Rpb24ucGF5bG9hZCkpXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG5cbi8vIHNlIGVuY2FyZ2EgZGUgY29tYmluYXIgbG9zIHJlZHVjZXJzIGluZGl2aWR1bGVzXG5jb25zdCBwb3N0c1JlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xuICBwYWdlOiBwb3N0c1BhZ2VSZWR1Y2VyLFxuICBlbnRpdGllczogcG9zdHNFbnRpdGllc1JlZHVjZXIsXG59KVxuXG5cbmZ1bmN0aW9uIGNvbW1lbnRzUmVkdWNlcihzdGF0ZSA9IGluaXRpYWxTdGF0ZS5nZXQoJ2NvbW1lbnRzJyksIGFjdGlvbiA9IHt9KSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdTRVRfQ09NTUVOVFMnOlxuICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkLnJlZHVjZShcbiAgICAgICAgKGNvbW1lbnRzLCBjb21tZW50KSA9PiBjb21tZW50cy5zZXQoY29tbWVudC5pZCwgbWFwKGNvbW1lbnQpKSxcbiAgICAgICAgc3RhdGUsIC8vIGFjdW11bGFkb3JcbiAgICAgIClcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlcnNSZWR1Y2VyKHN0YXRlID0gaW5pdGlhbFN0YXRlLmdldCgndXNlcnMnKSwgYWN0aW9uID0ge30pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ1NFVF9VU0VSJzpcbiAgICAgIC8vIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgLy8gICBbYWN0aW9uLnBheWxvYWQuaWRdOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgIC8vIH0pXG4gICAgICByZXR1cm4gc3RhdGUuc2V0KGFjdGlvbi5wYXlsb2FkLmlkLCBtYXAoYWN0aW9uLnBheWxvYWQpKVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5jb25zdCByZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKHtcbiAgcG9zdHM6IHBvc3RzUmVkdWNlcixcbiAgY29tbWVudHM6IGNvbW1lbnRzUmVkdWNlcixcbiAgdXNlcnM6IHVzZXJzUmVkdWNlcixcbn0pXG5cbi8vIGZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IHt9KSB7XG4vLyAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbi8vICAgICBjYXNlICdTRVRfUE9TVFMnOlxuLy8gICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4vLyAgICAgICAgIHBvc3RzOiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5wb3N0cywge1xuLy8gICAgICAgICAgIGVudGl0aWVzOiBzdGF0ZS5wb3N0cy5lbnRpdGllcy5jb25jYXQoYWN0aW9uLnBheWxvYWQpLFxuLy8gICAgICAgICAgIHBhZ2U6IHN0YXRlLnBvc3RzLnBhZ2UgKyAxLFxuLy8gICAgICAgICB9KSxcbi8vICAgICAgIH0pO1xuLy8gICAgIGRlZmF1bHQ6XG4vLyAgICAgICByZXR1cm4gc3RhdGU7XG4vLyAgIH1cbi8vIH1cblxuZXhwb3J0IGRlZmF1bHQgcmVkdWNlcjtcbiJdfQ==